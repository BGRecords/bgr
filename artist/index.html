
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2989865048862981"
     crossorigin="anonymous"></script>
</head>
<!-- Google Tag Manager -->
<script>
  (function (w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != "dataLayer" ? "&l=" + l : "";
    j.async = true;
    j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, "script", "dataLayer", "GTM-TVZNBT6");
</script>
<!-- End Google Tag Manager -->
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
/>
<link rel="stylesheet" href="https://bg-records.com/style.css" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<div class="header">
  <a href="https://bg-records.com/"
    ><img
      src="https://cdn.glitch.global/6374d241-d518-4441-bcff-f2489ef8336d/BGRECORDS2.png?v=1677955982282"
      height="80"
      width="120"
  /></a>
</div>
<h1>
  Artist: <span id="artist"></span><span id="badgelib"></span>
  <script>
    $("#badgelib").load("https://bgr.glitch.me/api/badgelister.html");
  </script>
</h1>
<span id="aboutlib"></span>
  <script>
    $("#aboutlib").load("https://bgr.glitch.me/api/about.html");
  </script>
          <button id="likepage" onclick="like()" style="border-radius: 50px; background-color: pink">Like Page</button> <span><span id="likesamount">{BGAPI.LIKES}</span> Likes</span>
<h2 id="a">Pinned Song: <a href="/" id="spotlight"></a></h2>
      <div class="col-md-4" style="text-align: center; height: 250px;">
        <h1>Songs by Artist:</h1>
        <hr>
        <div id="users" class="list-group" style="text-align: center;">
     <div style="text-align: center; background-color: darkgray;">
    <div>
      <p class="lead">NOTICE:</p>
      <p>This data is auto generated by BGR.</p>
  </div>
</div>
<br>

        </div>
      </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) and Bootstrap -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <!-- Include Firebase Library and Config-->
  <script src="//www.gstatic.com/firebasejs/4.5.0/firebase.js"></script>
  <!-- users Store JavaScript -->
<script>
  var type = window.location.hash.substr(1).replaceAll("%20", " ");
  var parts = type.split("#");

  var key = parts[0];
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBkFMScThR9gMEYCBvsd8kDSOnE9lR0q5E",
    authDomain: "bgr-song-database.firebaseapp.com",
    databaseURL: "https://bgr-song-database-default-rtdb.firebaseio.com",
    projectId: "bgr-song-database",
    storageBucket: "bgr-song-database.appspot.com",
    messagingSenderId: "1032475950224",
    appId: "1:1032475950224:web:06551b463029b44a2d2c15",
    measurementId: "G-2TRRCW4HNY"
  };

firebase.initializeApp(firebaseConfig);

//create firebase database reference
var dbRef = firebase.database();
var usersRef = dbRef.ref('artist/' + key + '/songs/');

//load older conatcts as well as any newly added one...
usersRef.on("child_added", function(snap) {
  $('#users').append(contactHtmlFromObject(snap.val()));
});
  
  



//prepare conatct object's HTML
function contactHtmlFromObject(contact){
  var htmlb = '';
  htmlb += '<div style="text-align: center; background-color: silver; border-radius: 50px; padding: 0.5px;">';
    htmlb += '<div>';
      htmlb += '<p class="lead"><a href="https://bg-records.com/song#' + contact.Song + '#' + contact.Artist + '"">'+contact.Song+'</a></p>';
      htmlb += '<p> By: '+contact.Artist+'</p>';
    htmlb += '</div>';
  htmlb += '</div>';
  htmlb += '<br>';
  return htmlb;
}
</script>
<script>

  
  var type = window.location.hash.substr(1).replaceAll("%20", " ");
  var parts = type.split("#");

  var artist = parts[0];
  var about = parts[1];
  var spotlight = parts[2];

  document.getElementById("artist").innerHTML = artist;
  //document.getElementById("about").innerHTML = about;
  document.getElementById("spotlight").innerHTML = spotlight;
  document
    .getElementById("spotlight")
    .setAttribute(
      "href",
      "https://bg-records.com/song" +
        "#" +
        spotlight +
        "#" +
        artist +
        "#" +
        "N/A" +
        "#" +
        "N/A" +
        "#" +
        about +
        "#" +
        spotlight
    );
  document.title = artist;

  if (document.getElementById("spotlight").innerHTML === "undefined") {
    document.getElementById("a").innerHTML = "";
  }
</script>


<script>
var dbRefe = firebase.database();
var usersRefe = dbRefe.ref('artist/' + key + '/data/');
  usersRefe.on('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
      childData = childSnapshot.val();
document.getElementById('likesamount').innerHTML = childData
      console.log(childData)
    })
})
</script>
<script>
function like() {
    document.getElementById('likepage').setAttribute("disabled", true)
    document.getElementById('likepage').innerHTML = "Liked Page"
  var type = window.location.hash.substr(1).replaceAll("%20", " ");
  var parts = type.split("#");

  var key = parts[0];
  
//create firebase database reference
var dbRefe = firebase.database();
var usersRefe = dbRefe.ref('artist/' + key + '/data/');
var nextlike = childData+1
//document.getElementById('likesamount').innerHTML = nextlike
  var likess = usersRefe.likes
   // usersRefe.set({
      /5likes: nextlike,
   // });}

</script>

<style>
  .header {
    border-radius: 20px;
    padding: 20px;
    width: 250x;
    height: 90px;
    text-align: center;
    color: white;
    background-color: #000000;
  }
  body {
    background-color: lightgray;
    text-align: center;
  }
</style>
